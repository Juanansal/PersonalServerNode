<!DOCTYPE html>
<html>
<head>
   <title>Bases de datos PHP </title>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">

   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
   <link rel="stylesheet" href="../css/php.css">
   <script src="../lib/jquery.js"></script>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>


   <style>   
      main {
         margin: 5px;
         padding: 15px;
         background-color: aqua;
         font-weight: bold;
         width: 90%;
         margin: 0 auto;
      }

      td, th {
         border: 1px solid black;
         padding: 4px;
         font-size: 16px;
      }
   </style>

</head>
<body>

  

   <main>
      Introduce algo: <input id="texto" type="text">
      <input id="boton" type="button" value="Pulsame">
      <div id="resultado">Aqui se escribira el resultado</div>
      
   <main>

   <script>
      
      // Evento onclick para probar el funcionamiento del ajax al php
      $('#boton').click(llamadaAjax);

      function llamadaAjax(texto) {

         var texto = $('#texto').val();
         console.log(texto);

         if (texto.length == 0) { 
            console.log('Introduzca algun valor');
            return;
         } else {
            // Peticion http AJAX
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function() {
                  if (this.readyState == 4 && this.status == 200) {

                     // Aqui se recoje el resultado
                     $('#resultado').html('<strong>'+this.responseText+'</strong>');
                     console.log(this.responseText);
                  }
            };
            xmlhttp.open("GET", "../scripts/ajax1.php?envio="+texto , true);
            xmlhttp.send();
         }
      }
   </script>

</body>

</html>